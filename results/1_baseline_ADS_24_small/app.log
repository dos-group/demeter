[INFO ] 2023-09-29 08:05:07.194 [main] Context - Reserving NodePort: 32007
[INFO ] 2023-09-29 08:05:07.472 [main] SequenceFSM - STATE-CHANGE: START -> INITIALIZE
[WARN ] 2023-09-29 08:05:07.833 [main] VersionUsageUtils - The client is using resource type 'flinkdeployments' with unstable version 'v1beta1'
[INFO ] 2023-09-29 08:05:13.230 [OkHttp https://10.233.0.1/...] K8sClient - Namespace (baseline) DELETED
[INFO ] 2023-09-29 08:05:13.269 [OkHttp https://10.233.0.1/...] K8sClient - Namespace (baseline) ADDED
[INFO ] 2023-09-29 08:05:13.271 [main] ClientsManager - Helm deploy: { redis-cluster: { repo : https://charts.bitnami.com/bitnami },{ values : kubernetes/redis-cluster/values.yaml },{ version : 7.6.4 } }
[INFO ] 2023-09-29 08:05:16.526 [pool-4-thread-1] Helm - NAME: redis-cluster
[INFO ] 2023-09-29 08:05:16.527 [pool-4-thread-1] Helm - LAST DEPLOYED: Fri Sep 29 08:05:15 2023
[INFO ] 2023-09-29 08:05:16.527 [pool-4-thread-1] Helm - NAMESPACE: baseline
[INFO ] 2023-09-29 08:05:16.527 [pool-4-thread-1] Helm - STATUS: deployed
[INFO ] 2023-09-29 08:05:16.527 [pool-4-thread-1] Helm - REVISION: 1
[INFO ] 2023-09-29 08:05:16.527 [pool-4-thread-1] Helm - TEST SUITE: None
[INFO ] 2023-09-29 08:05:16.528 [pool-4-thread-1] Helm - NOTES:
[INFO ] 2023-09-29 08:05:16.528 [pool-4-thread-1] Helm - CHART NAME: redis-cluster
[INFO ] 2023-09-29 08:05:16.528 [pool-4-thread-1] Helm - CHART VERSION: 7.6.4
[INFO ] 2023-09-29 08:05:16.528 [pool-4-thread-1] Helm - APP VERSION: 6.2.7** Please be patient while the chart is being deployed **
[INFO ] 2023-09-29 08:05:16.528 [pool-4-thread-1] Helm - 
[INFO ] 2023-09-29 08:05:16.528 [pool-4-thread-1] Helm - 
[INFO ] 2023-09-29 08:05:16.528 [pool-4-thread-1] Helm - 
[INFO ] 2023-09-29 08:05:16.529 [pool-4-thread-1] Helm - You have deployed a Redis&reg; Cluster accessible only from within you Kubernetes Cluster.INFO: The Job to create the cluster will be created.To connect to your Redis&reg; cluster:
[INFO ] 2023-09-29 08:05:16.529 [pool-4-thread-1] Helm - 
[INFO ] 2023-09-29 08:05:16.529 [pool-4-thread-1] Helm - 1. Run a Redis&reg; pod that you can use as a client:
[INFO ] 2023-09-29 08:05:16.529 [pool-4-thread-1] Helm - kubectl run --namespace baseline redis-cluster-client --rm --tty -i --restart='Never' \
[INFO ] 2023-09-29 08:05:16.529 [pool-4-thread-1] Helm - 
[INFO ] 2023-09-29 08:05:16.529 [pool-4-thread-1] Helm - --image docker.io/bitnami/redis-cluster:6.2.7-debian-11-r9 -- bash
[INFO ] 2023-09-29 08:05:16.530 [pool-4-thread-1] Helm - 
[INFO ] 2023-09-29 08:05:16.530 [pool-4-thread-1] Helm - 2. Connect using the Redis&reg; CLI:
[INFO ] 2023-09-29 08:05:16.530 [pool-4-thread-1] Helm - 
[INFO ] 2023-09-29 08:05:16.530 [pool-4-thread-1] Helm - redis-cli -c -h redis-cluster
[INFO ] 2023-09-29 08:05:16.542 [main] ClientsManager - Helm deploy: { kafka: { repo : https://charts.bitnami.com/bitnami },{ values : kubernetes/kafka/values.yaml },{ version : 22.1.3 } }
[INFO ] 2023-09-29 08:05:19.678 [pool-5-thread-1] Helm - NAME: kafka
[INFO ] 2023-09-29 08:05:19.680 [pool-5-thread-1] Helm - LAST DEPLOYED: Fri Sep 29 08:05:19 2023
[INFO ] 2023-09-29 08:05:19.680 [pool-5-thread-1] Helm - NAMESPACE: baseline
[INFO ] 2023-09-29 08:05:19.680 [pool-5-thread-1] Helm - STATUS: deployed
[INFO ] 2023-09-29 08:05:19.680 [pool-5-thread-1] Helm - REVISION: 1
[INFO ] 2023-09-29 08:05:19.681 [pool-5-thread-1] Helm - TEST SUITE: None
[INFO ] 2023-09-29 08:05:19.681 [pool-5-thread-1] Helm - NOTES:
[INFO ] 2023-09-29 08:05:19.681 [pool-5-thread-1] Helm - CHART NAME: kafka
[INFO ] 2023-09-29 08:05:19.681 [pool-5-thread-1] Helm - CHART VERSION: 22.1.3
[INFO ] 2023-09-29 08:05:19.681 [pool-5-thread-1] Helm - APP VERSION: 3.4.0
[INFO ] 2023-09-29 08:05:19.682 [pool-5-thread-1] Helm - 
[INFO ] 2023-09-29 08:05:19.682 [pool-5-thread-1] Helm - ** Please be patient while the chart is being deployed **
[INFO ] 2023-09-29 08:05:19.682 [pool-5-thread-1] Helm - 
[INFO ] 2023-09-29 08:05:19.682 [pool-5-thread-1] Helm - Kafka can be accessed by consumers via port 9092 on the following DNS name from within your cluster:
[INFO ] 2023-09-29 08:05:19.683 [pool-5-thread-1] Helm - 
[INFO ] 2023-09-29 08:05:19.683 [pool-5-thread-1] Helm -     kafka.baseline.svc.cluster.local
[INFO ] 2023-09-29 08:05:19.683 [pool-5-thread-1] Helm - 
[INFO ] 2023-09-29 08:05:19.683 [pool-5-thread-1] Helm - Each Kafka broker can be accessed by producers via port 9092 on the following DNS name(s) from within your cluster:
[INFO ] 2023-09-29 08:05:19.684 [pool-5-thread-1] Helm - 
[INFO ] 2023-09-29 08:05:19.684 [pool-5-thread-1] Helm -     kafka-0.kafka-headless.baseline.svc.cluster.local:9092
[INFO ] 2023-09-29 08:05:19.684 [pool-5-thread-1] Helm -     kafka-1.kafka-headless.baseline.svc.cluster.local:9092
[INFO ] 2023-09-29 08:05:19.684 [pool-5-thread-1] Helm -     kafka-2.kafka-headless.baseline.svc.cluster.local:9092
[INFO ] 2023-09-29 08:05:19.684 [pool-5-thread-1] Helm -     kafka-3.kafka-headless.baseline.svc.cluster.local:9092
[INFO ] 2023-09-29 08:05:19.685 [pool-5-thread-1] Helm -     kafka-4.kafka-headless.baseline.svc.cluster.local:9092
[INFO ] 2023-09-29 08:05:19.685 [pool-5-thread-1] Helm - 
[INFO ] 2023-09-29 08:05:19.685 [pool-5-thread-1] Helm - To create a pod that you can use as a Kafka client run the following commands:
[INFO ] 2023-09-29 08:05:19.685 [pool-5-thread-1] Helm - 
[INFO ] 2023-09-29 08:05:19.685 [pool-5-thread-1] Helm -     kubectl run kafka-client --restart='Never' --image docker.io/bitnami/kafka:3.4.0-debian-11-r33 --namespace baseline --command -- sleep infinity
[INFO ] 2023-09-29 08:05:19.686 [pool-5-thread-1] Helm -     kubectl exec --tty -i kafka-client --namespace baseline -- bash
[INFO ] 2023-09-29 08:05:19.686 [pool-5-thread-1] Helm - 
[INFO ] 2023-09-29 08:05:19.686 [pool-5-thread-1] Helm -     PRODUCER:
[INFO ] 2023-09-29 08:05:19.686 [pool-5-thread-1] Helm -         kafka-console-producer.sh \
[INFO ] 2023-09-29 08:05:19.686 [pool-5-thread-1] Helm -             --broker-list kafka-0.kafka-headless.baseline.svc.cluster.local:9092,kafka-1.kafka-headless.baseline.svc.cluster.local:9092,kafka-2.kafka-headless.baseline.svc.cluster.local:9092,kafka-3.kafka-headless.baseline.svc.cluster.local:9092,kafka-4.kafka-headless.baseline.svc.cluster.local:9092 \
[INFO ] 2023-09-29 08:05:19.686 [pool-5-thread-1] Helm -             --topic test
[INFO ] 2023-09-29 08:05:19.687 [pool-5-thread-1] Helm - 
[INFO ] 2023-09-29 08:05:19.687 [pool-5-thread-1] Helm -     CONSUMER:
[INFO ] 2023-09-29 08:05:19.687 [pool-5-thread-1] Helm -         kafka-console-consumer.sh \
[INFO ] 2023-09-29 08:05:19.687 [pool-5-thread-1] Helm -             --bootstrap-server kafka.baseline.svc.cluster.local:9092 \
[INFO ] 2023-09-29 08:05:19.687 [pool-5-thread-1] Helm -             --topic test \
[INFO ] 2023-09-29 08:05:19.687 [pool-5-thread-1] Helm -             --from-beginning
[INFO ] 2023-09-29 08:05:19.693 [main] ClientsManager - Helm deploy: { generators: { chart : kubernetes/generators } }
[INFO ] 2023-09-29 08:05:19.693 [main] ClientsManager - kubernetes/generators
[INFO ] 2023-09-29 08:05:20.035 [pool-6-thread-1] Helm - NAME: generators
[INFO ] 2023-09-29 08:05:20.036 [pool-6-thread-1] Helm - LAST DEPLOYED: Fri Sep 29 08:05:19 2023
[INFO ] 2023-09-29 08:05:20.036 [pool-6-thread-1] Helm - NAMESPACE: baseline
[INFO ] 2023-09-29 08:05:20.036 [pool-6-thread-1] Helm - STATUS: deployed
[INFO ] 2023-09-29 08:05:20.036 [pool-6-thread-1] Helm - REVISION: 1
[INFO ] 2023-09-29 08:05:20.037 [pool-6-thread-1] Helm - TEST SUITE: None
[INFO ] 2023-09-29 08:06:34.118 [main] ClientsManager - Generator started with parameters: {"generatorType":"ADS","topic":"input","brokerList":"kafka.baseline.svc.cluster.local:9092","limiterType":"DATASET","limiterMaxNoise":0.1,"amplitude":0,"period":3600,"verticalPhase":300000,"fileName":"datasets/ADS_3D_1S_4_sub_30K_max.csv","header":true,"separator":"|","scale":1.0,"redisHost":"redis-cluster","redisPort":6379}
[INFO ] 2023-09-29 08:06:48.303 [main] ClientsManager - Generator started with parameters: {"generatorType":"ADS","topic":"input","brokerList":"kafka.baseline.svc.cluster.local:9092","limiterType":"DATASET","limiterMaxNoise":0.1,"amplitude":0,"period":3600,"verticalPhase":300000,"fileName":"datasets/ADS_3D_1S_4_sub_30K_max.csv","header":true,"separator":"|","scale":1.0,"redisHost":"redis-cluster","redisPort":6379}
[INFO ] 2023-09-29 08:07:02.390 [main] ClientsManager - Generator started with parameters: {"generatorType":"ADS","topic":"input","brokerList":"kafka.baseline.svc.cluster.local:9092","limiterType":"DATASET","limiterMaxNoise":0.1,"amplitude":0,"period":3600,"verticalPhase":300000,"fileName":"datasets/ADS_3D_1S_4_sub_30K_max.csv","header":true,"separator":"|","scale":1.0,"redisHost":"redis-cluster","redisPort":6379}
[INFO ] 2023-09-29 08:07:02.477 [main] SequenceFSM - { "apiVersion": "flink.apache.org/v1beta1", "kind": "FlinkDeployment", "metadata": { "name": "baseline" }, "spec": { "image": "morgel/flink:1.17.0-java11", "flinkVersion": "v1_17", "imagePullPolicy": "Always", "flinkConfiguration": { "taskmanager.numberOfTaskSlots": "1", "kubernetes.jobmanager.annotations": "prometheus.io/scrape:true,prometheus.io/port:9999", "kubernetes.taskmanager.annotations": "prometheus.io/scrape:true,prometheus.io/port:9999", "metrics.reporter.prom.factory.class": "org.apache.flink.metrics.prometheus.PrometheusReporterFactory","metrics.reporter.prom.port": "9999","heartbeat.timeout": "20000", "heartbeat.interval": "5000", "state.checkpoints.dir": "hdfs://130.149.248.67:9000/flink/checkpoints", "state.savepoints.dir": "hdfs://130.149.248.67:9000/flink/savepoints" }, "podTemplate": { "spec": { "containers": [{ "name": "flink-main-container", "ports": [{ "containerPort": 9999, "name": "metrics" }] }] } }, "serviceAccount": "default", "jobManager": { "resource": { "memory": "4096m", "cpu": 1.0 } }, "taskManager": { "resource": { "memory": "4096m", "cpu": 1.0 } }, "job": { "jarURI": "local:///opt/flink/usrlib/jobs-1.0.jar", "entryClass": "de.tu_berlin.dos.arm.streaming_experiment_suite.jobs.YahooStreamingBenchmark", "args": ["--jobName", "baseline", "--chkInterval", "10000", "--redisHost", "redis-cluster", "--consumerTopic", "input", "--producerTopic", "output", "--redisPort", "6379", "--chkDir", "hdfs://130.149.248.67:9000/flink/checkpoints", "--brokerList", "kafka.baseline.svc.cluster.local:9092"], "parallelism": 24, "upgradeMode": "savepoint", "state": "running" }}}
[INFO ] 2023-09-29 08:08:02.157 [main] SequenceFSM - Started target job: FlinkJob{port=32007, entryClass='de.tu_berlin.dos.arm.streaming_experiment_suite.jobs.YahooStreamingBenchmark', jobName='baseline', brokerList='kafka.baseline.svc.cluster.local:9092', consTopic='input', prodTopic='output', extraArgs={redisHost=redis-cluster, redisPort=6379}, config={scaleOut: 24, taskSlots: 1, cpu: 1.0, memory: 4096, chkInt: 10000}, tsList=[1695974883], jobId='91cefd14840fb346e64d11a4311c9a83', isActive=true} at TS: 1695974883
[INFO ] 2023-09-29 08:08:02.157 [main] SequenceFSM - STATE-CHANGE: INITIALIZE -> EXECUTE
[INFO ] 2023-09-29 08:08:02.236 [main] SequenceFSM - Starting Experiment: 1695974883
[INFO ] 2023-09-29 08:53:06.014 [pool-2-thread-1] SequenceFSM - Injecting delay into target job: baseline at TS: 1695977587
[WARN ] 2023-09-29 08:53:06.040 [pool-2-thread-1] VersionUsageUtils - The client is using resource type 'networkchaos' with unstable version 'v1alpha1'
[INFO ] 2023-09-29 09:38:10.008 [pool-2-thread-2] SequenceFSM - Injecting delay into target job: baseline at TS: 1695980291
[INFO ] 2023-09-29 10:23:41.004 [pool-2-thread-3] SequenceFSM - Injecting delay into target job: baseline at TS: 1695983022
[INFO ] 2023-09-29 11:08:10.011 [pool-2-thread-4] SequenceFSM - Injecting delay into target job: baseline at TS: 1695985691
[INFO ] 2023-09-29 11:53:06.011 [pool-2-thread-5] SequenceFSM - Injecting delay into target job: baseline at TS: 1695988387
[INFO ] 2023-09-29 12:38:07.007 [pool-2-thread-6] SequenceFSM - Injecting delay into target job: baseline at TS: 1695991088
[INFO ] 2023-09-29 13:23:09.007 [pool-2-thread-7] SequenceFSM - Injecting delay into target job: baseline at TS: 1695993790
[INFO ] 2023-09-29 14:08:05.010 [pool-2-thread-8] SequenceFSM - Injecting delay into target job: baseline at TS: 1695996486
[INFO ] 2023-09-29 14:53:04.004 [pool-2-thread-9] SequenceFSM - Injecting delay into target job: baseline at TS: 1695999185
[INFO ] 2023-09-29 15:38:17.005 [pool-2-thread-10] SequenceFSM - Injecting delay into target job: baseline at TS: 1696001898
[INFO ] 2023-09-29 16:23:07.002 [pool-2-thread-11] SequenceFSM - Injecting delay into target job: baseline at TS: 1696004587
[INFO ] 2023-09-29 17:08:07.006 [pool-2-thread-12] SequenceFSM - Injecting delay into target job: baseline at TS: 1696007288
[INFO ] 2023-09-29 17:53:09.009 [pool-2-thread-13] SequenceFSM - Injecting delay into target job: baseline at TS: 1696009990
[INFO ] 2023-09-29 18:38:04.010 [pool-2-thread-14] SequenceFSM - Injecting delay into target job: baseline at TS: 1696012685
[INFO ] 2023-09-29 19:23:04.006 [pool-2-thread-15] SequenceFSM - Injecting delay into target job: baseline at TS: 1696015385
[INFO ] 2023-09-29 20:08:09.008 [pool-2-thread-16] SequenceFSM - Injecting delay into target job: baseline at TS: 1696018090
[INFO ] 2023-09-29 20:53:18.006 [pool-2-thread-17] SequenceFSM - Injecting delay into target job: baseline at TS: 1696020799
[INFO ] 2023-09-29 21:38:08.011 [pool-2-thread-18] SequenceFSM - Injecting delay into target job: baseline at TS: 1696023489
[INFO ] 2023-09-29 22:23:04.008 [pool-2-thread-19] SequenceFSM - Injecting delay into target job: baseline at TS: 1696026185
[INFO ] 2023-09-29 23:08:09.006 [pool-2-thread-20] SequenceFSM - Injecting delay into target job: baseline at TS: 1696028890
[INFO ] 2023-09-29 23:53:14.008 [pool-2-thread-21] SequenceFSM - Injecting delay into target job: baseline at TS: 1696031595
[INFO ] 2023-09-30 00:38:04.010 [pool-2-thread-22] SequenceFSM - Injecting delay into target job: baseline at TS: 1696034285
[INFO ] 2023-09-30 01:23:04.004 [pool-2-thread-23] SequenceFSM - Injecting delay into target job: baseline at TS: 1696036985
[INFO ] 2023-09-30 02:08:02.015 [main] SequenceFSM - Stopping Experiment: 1696039683
[INFO ] 2023-09-30 02:08:02.017 [main] SequenceFSM - Gathering metrics and stopping job with configuration: FlinkJob{port=32007, entryClass='de.tu_berlin.dos.arm.streaming_experiment_suite.jobs.YahooStreamingBenchmark', jobName='baseline', brokerList='kafka.baseline.svc.cluster.local:9092', consTopic='input', prodTopic='output', extraArgs={redisHost=redis-cluster, redisPort=6379}, config={scaleOut: 24, taskSlots: 1, cpu: 1.0, memory: 4096, chkInt: 10000}, tsList=[1695974883, 1695977587, 1695980291, 1695983022, 1695985691, 1695988387, 1695991088, 1695993790, 1695996486, 1695999185, 1696001898, 1696004587, 1696007288, 1696009990, 1696012685, 1696015385, 1696018090, 1696020799, 1696023489, 1696026185, 1696028890, 1696031595, 1696034285, 1696036985, 1696039683], jobId='91cefd14840fb346e64d11a4311c9a83', isActive=true}
[INFO ] 2023-09-30 02:08:27.013 [pool-2-thread-24] SequenceFSM - Injecting delay into target job: baseline at TS: 1696039708
[INFO ] 2023-09-30 02:14:36.363 [pool-2-thread-25] TimeSeries - File not found, creating 1_baseline_workRate.out
[INFO ] 2023-09-30 02:14:36.363 [pool-2-thread-29] TimeSeries - File not found, creating 1_baseline_latency.out
[INFO ] 2023-09-30 02:14:36.363 [pool-2-thread-30] TimeSeries - File not found, creating 1_baseline_scaleOuts.out
[INFO ] 2023-09-30 02:14:36.363 [pool-2-thread-27] TimeSeries - File not found, creating 1_baseline_taskSlots.out
[INFO ] 2023-09-30 02:14:36.363 [pool-2-thread-31] TimeSeries - File not found, creating 1_baseline_consLag.out
[INFO ] 2023-09-30 02:14:36.363 [pool-2-thread-26] TimeSeries - File not found, creating 1_baseline_cpuLoad.out
[INFO ] 2023-09-30 02:14:36.363 [pool-2-thread-28] TimeSeries - File not found, creating 1_baseline_thrRate.out
